<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>starting five</title>

<style>
body {
  margin:0;
  background: radial-gradient(circle at top, #1a1a1a, #000);
  font-family: system-ui;
  color:white;
  overflow:hidden;
}

.container {
  width:100vw;
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.starters {
  display:flex;
  gap:60px;
  margin-bottom:60px;
}

.card {
  text-align:center;
  animation: fadeIn 0.6s ease forwards;
}

.card img {
  width:220px;
  height:220px;
  object-fit:cover;
  border-radius:20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
}

.name {
  margin-top:14px;
  font-size:22px;
  font-weight:800;
}

.bench {
  display:flex;
  gap:30px;
  flex-wrap:wrap;
  justify-content:center;
  font-size:18px;
  opacity:0.8;
}

@keyframes fadeIn {
  from {opacity:0; transform:translateY(30px);}
  to {opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>
<div class="container">
  <div class="starters" id="starters"></div>
  <div class="bench" id="bench"></div>
</div>

<script>
let lastSeq = -1;

async function load(){
  const res = await fetch("/api/lineup_state?ts="+Date.now());
  const j = await res.json();
  if (!j.ok) return;

  if (j.seq === lastSeq) return;
  lastSeq = j.seq;

  const s = j.state || { starters:[], bench:[] };

  const startersEl = document.getElementById("starters");
  const benchEl = document.getElementById("bench");

  startersEl.innerHTML = "";
  benchEl.innerHTML = "";

  s.starters.forEach(p => {
    const div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <img src="${p.photo}">
      <div class="name">${p.name}</div>
    `;
    startersEl.appendChild(div);
  });

  s.bench.forEach(p => {
    const span = document.createElement("div");
    span.textContent = `${p.name} â€“ ${p.height}`;
    benchEl.appendChild(span);
  });
}

setInterval(load, 1000);
load();
</script>
</body>
</html>
